@using WebGiay.Models
@model List<GioHang>
@{
    ViewBag.Title = "SuaGioHang";
    Layout = "~/Views/Shared/_LayoutPage.cshtml";
}
<div class="shopping-cart">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <div class="location">
                    <ul>
                        <li><strong> Giỏ Hàng </strong></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="table-responsive">
                    <table class="table-bordered table table-hover">
                        <thead>
                            <tr>
                                <th class="cart-item-img">Hình Ảnh</th>
                                <th class="cart-product-name">Tên Sản Phẩm</th>
                                <th class="unit-price">Đơn Giá(VND)</th>
                                <th class="quantity">Số Lượng</th>
                                <th class="subtotal">Thành Tiền(VND)</th>
                            </tr>
                        </thead>
                        <tbody class="text-center">
                            @{
                                foreach (var item in Model)
                                {


                                    <tr>
                                        <td class="cart-item-img">
                                            @if (item.Anh != null)
                                            {
                                                <a href="single-product.html">
                                                    <img src="@Url.Content("/image/" + item.Anh)" alt="" style="width:152px;height:152px;">
                                                </a>
                                            }
                                            else
                                            { <p>Chưa có ảnh</p>}
                                        </td>
                                        <td class="cart-product-name">
                                            <a href="single-product.html">@item.TenSP</a>
                                        </td>
                                        <td class="move-wishlist">
                                            <a href="#">@String.Format("{0:N0}", @item.Gia)</a>
                                        </td>
                                        @using (Html.BeginForm("CapNhatGioHang", "GioHang", new { sMaSP = item.sMaSP }))
                                        {
                                            <td>
                                                @Html.TextBox("txtSoLuong", item.SoLuong)
                                                &nbsp;
                                                <button type="submit" class="btn btn-primary">Cập nhật</button>
                                                <a href='@Url.Action("XoaGioHang", "GioHang", new { sMaSP = item.sMaSP })' class="btn btn-primary">Xóa</a>
                                            </td>
                                        }
                                        <td class="subtotal">
                                            <span>@String.Format("{0:N0}", @item.ThanhTien)</span>
                                        </td>
                                    </tr>
                                }
                            }
                        </tbody>
                    </table>
                    <div style="text-align: right">
                        <p>Tổng số lượng <span>@String.Format("{0:N0}", @ViewBag.TongSoLuong)</span> </p>
                        <h3 style="color:red">Tổng Tiền <span>@String.Format("{0:N0}", @ViewBag.TongTien)</span></h3>
                    </div>
                    <div class="shopping-button">
                        <div class="shopping-cart-left">
                            <button type="submit"><a href="@Url.Action("GioHang","GioHang")">Đặt Hàng</a></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

